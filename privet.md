package main

import (
"fmt"
"net/http"
)

func handler(w http.ResponseWriter, r *http.Request) {
// –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "question" –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
question := r.URL.Query().Get("question")

	// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ–¥–∞–Ω –ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä "question"
	if question == "" {
		http.Error(w, "–ü–∞—Ä–∞–º–µ—Ç—Ä 'question' –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç", http.StatusBadRequest)
		return
	}

	// –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
	answer := fmt.Sprintf("–û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å '%s': 42", question)

	// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É
	fmt.Fprintln(w, answer)
}

func main() {
// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—É—Ç–∏ "/"
http.HandleFunc("/", handler)

	// –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8080
	fmt.Println("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8080")
	if err := http.ListenAndServe(":8080", nil); err != nil {
		fmt.Printf("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞: %v\n", err)
	}
}
–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
–°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ—Ä—Ç—É 8080.

–ö–æ–≥–¥–∞ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—É—Ç—å /, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è handler.

–§—É–Ω–∫—Ü–∏—è handler –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä question –∏–∑ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, /question=–ß—Ç–æ%20—Ç–∞–∫–æ–µ%20–∂–∏–∑–Ω—å).

–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä question –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 400 Bad Request.

–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä question –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

Copy
–û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å '<question>': 42
–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥ –≤ —Ñ–∞–π–ª main.go.

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ —Å —Ñ–∞–π–ª–æ–º.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

bash
Copy
go run main.go
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080.

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
–ó–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º:

URL: http://localhost:8080/?question=–ß—Ç–æ%20—Ç–∞–∫–æ–µ%20–∂–∏–∑–Ω—å

–û—Ç–≤–µ—Ç:

Copy
–û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å '–ß—Ç–æ —Ç–∞–∫–æ–µ –∂–∏–∑–Ω—å': 42
–ó–∞–ø—Ä–æ—Å –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

URL: http://localhost:8080/

–û—Ç–≤–µ—Ç:

Copy
–ü–∞—Ä–∞–º–µ—Ç—Ä 'question' –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
–≠—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–µ–Ω –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–¥–∞—á. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥—Ä—É–≥–∏—Ö HTTP-–º–µ—Ç–æ–¥–æ–≤), –∫–æ–¥ –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å. üòä

New chat
